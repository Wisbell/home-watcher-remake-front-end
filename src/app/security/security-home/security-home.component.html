<div class="container">
  <div class="row">
    <div class="col mt-2">
      <h4>Images generated by motion detection</h4>
    </div>
  </div>
  <div class="row">
    <div class="col-md-3 my-4" *ngFor="let image of images">
      <mdb-card>
        <div class="view overlay waves-light" mdbWavesEffect>

          <mdb-card-img src="data:image/jpeg;base64,{{image.image}}" alt="Card image cap"></mdb-card-img>
          <a>
            <div class="mask rgba-white-slight"></div>
          </a>
        </div>

        <mdb-card-body>
          <mdb-card-title>
            <h4>{{ image.name }}</h4>
          </mdb-card-title>

          <mdb-card-text>
            <p>Id: {{ image.id }}</p>
            <p>DateCreated: {{ image.dateCreated }}</p>
          </mdb-card-text>

          <a
            *ngIf="!image.incident; else elseBlock"
            [routerLink]="['../incidents/create', image.id]"
            mdbBtn color="success"
            mdbWavesEffect
            size="sm">
            Create Incident
          </a>
          <ng-template #elseBlock>
            <a
              [routerLink]="['../incidents/edit', image.incident.id]"
              mdbBtn color="primary"
              mdbWavesEffect
              size="sm">
              Edit Incident
            </a>
          </ng-template>

          <a mdbBtn color="danger" mdbWavesEffect size="sm" (click)="deleteImage(image.id)">Delete</a>

        </mdb-card-body>
      </mdb-card>
    </div>
  </div>
</div>
